<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="utf-8">
    <script>
const API_BASE_URL = "http://localhost:3001";
window.API_BASE = API_BASE_URL;
</script>

    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ุงููุตูุงุช</title>

    <!-- Shared Styles -->
    <link rel="stylesheet" href="../assets/css/doctor-dashboard.css">
    <link rel="stylesheet" href="../assets/css/prescriptions.css">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet">

    <!-- JS -->
    
    <script src="../assets/js/main.js" defer></script>
    <script src="prescriptions-doctor.js" defer></script>
</head>

<body>

    <!-- Header -->
    <header class="doctor-header">
      <div class="header-left">
        <h1>ุตุฏููู ุงูุณูุฑู</h1>
      </div>
      <div class="header-right">
        <a href="chat.html" class="icon-btn" id="chatBtn" aria-label="ูุญุงุฏุซุฉ" title="ูุญุงุฏุซุฉ ูุน ุงููุฑุถู">๐ฌ</a>
        <button class="icon-btn" id="logoutBtn" onclick="logout()" aria-label="ุชุณุฌูู ุงูุฎุฑูุฌ" title="ุชุณุฌูู ุงูุฎุฑูุฌ">๐ช</button>
      </div>
    </header>

    <main class="doctor-main">

      <!-- Sidebar -->
      <aside class="doctor-sidebar">
        <ul class="doctor-menu">
          <li><a href="doctor-dashboard.html">ุงููุฑุถู</a></li>
          <li><a href="prescriptions-doctor.html">ุงููุตูุงุช</a></li>
          <li><a href="labs.html">ุงููุฎุชุจุฑ</a></li>

          <li class="logout">
            <button onclick="logout()">ุชุณุฌูู ุงูุฎุฑูุฌ</button>
          </li>
        </ul>
      </aside>

      <!-- Content -->
      <section class="pd-content">

        <div class="card title-card">
          <h1>ุงููุตูุงุช</h1>
          <button id="createBtn" class="btn btn-primary">ูุตูุฉ ุฌุฏูุฏุฉ</button>
        </div>

        <!-- Prescriptions List -->
        <div class="card prescriptions-card">
          <div class="prescriptions-header">
            <h2>ุณุฌู ุงููุตูุงุช</h2>
          </div>

          <div id="prescriptions-list" class="table-wrap">
            <!-- Prescriptions will be rendered here -->
          </div>

          <div id="no-prescriptions" class="no-results">ูู ูุชู ุงูุนุซูุฑ ุนูู ูุตูุงุช</div>
        </div>

      </section>

    </main>

    <!-- Create Prescription Modal -->
    <div id="createModal" class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <h2>ูุตูุฉ ุฌุฏูุฏุฉ</h2>
        <form id="prescriptionForm">
          <div class="form-group">
            <label for="patientSelect">ุงููุฑูุถ:</label>
            <select id="patientSelect" required>
              <option value="">ุงุฎุชุฑ ุงููุฑูุถ</option>
            </select>
          </div>
          <div id="itemsContainer">
            <div class="item-group">
              <label>ุฏูุงุก/ููุชุฌ:</label>
              <input type="text" class="item-name" placeholder="ูุซุงู: ูุงูุชูุณ" required>
              <input type="text" class="item-dose" placeholder="ูุซุงู: 12 ูุญุฏุฉ ุตุจุงุญุงู" required>
              <input type="text" class="item-frequency" placeholder="ูุซุงู: ููููุงู" required>
              <select class="item-type" required>
                <option value="medication">ุฏูุงุก</option>
                <option value="insulin">ุฃูุณูููู</option>
                <option value="sensor">ุฌูุงุฒ ุงุณุชุดุนุงุฑ</option>
                <option value="device">ุฌูุงุฒ</option>
              </select>
              <button type="button" class="remove-item">ุฅุฒุงูุฉ</button>
            </div>
          </div>
          <button type="button" id="addItemBtn">ุฅุถุงูุฉ ููุชุฌ</button>
          <div class="form-group">
            <label for="notes">ููุงุญุธุงุช:</label>
            <textarea id="notes" rows="3"></textarea>
          </div>
          <button type="submit">ุญูุธ</button>
        </form>
      </div>
    </div>

</body>
</html>